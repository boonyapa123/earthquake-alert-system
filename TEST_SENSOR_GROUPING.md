# ğŸ§ª à¸à¸²à¸£à¸—à¸”à¸ªà¸­à¸šà¸à¸²à¸£à¹à¸¢à¸à¸à¸¥à¸¸à¹ˆà¸¡à¹€à¸‹à¹‡à¸™à¹€à¸‹à¸­à¸£à¹Œ

## ğŸ“‹ à¸‚à¸±à¹‰à¸™à¸•à¸­à¸™à¸à¸²à¸£à¸—à¸”à¸ªà¸­à¸š

### 1. à¹€à¸›à¸´à¸”à¹à¸­à¸à¹à¸¥à¸° Login

```bash
# à¹à¸­à¸à¸à¸³à¸¥à¸±à¸‡à¸£à¸±à¸™à¸­à¸¢à¸¹à¹ˆà¹à¸¥à¹‰à¸§
# à¹ƒà¸«à¹‰ Login à¸”à¹‰à¸§à¸¢:
Email: user@eqnode.com
Password: password123
```

### 2. à¹„à¸›à¸—à¸µà¹ˆ Tab "MQTT Real-time"

- à¸„à¸¥à¸´à¸à¸—à¸µà¹ˆ Tab à¸”à¹‰à¸²à¸™à¸šà¸™ "MQTT Real-time"
- à¸•à¸­à¸™à¸™à¸µà¹‰à¸„à¸§à¸£à¹€à¸«à¹‡à¸™ "MQTT Status: CONNECTED"

### 3. à¸ªà¹ˆà¸‡à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸—à¸”à¸ªà¸­à¸š

à¹€à¸›à¸´à¸” Terminal à¹ƒà¸«à¸¡à¹ˆà¹à¸¥à¸°à¸£à¸±à¸™:

```bash
cd backend
node test-sensor-types.js
```

**à¸ªà¸„à¸£à¸´à¸›à¸•à¹Œà¸™à¸µà¹‰à¸ˆà¸°à¸ªà¹ˆà¸‡:**
- ğŸŒ **20 à¸‚à¹‰à¸­à¸„à¸§à¸²à¸¡à¹à¸œà¹ˆà¸™à¸”à¸´à¸™à¹„à¸«à¸§** (2.0-6.0 Richter)
- ğŸŒŠ **~7 à¸‚à¹‰à¸­à¸„à¸§à¸²à¸¡à¸„à¸¥à¸·à¹ˆà¸™à¸‹à¸¶à¸™à¸²à¸¡à¸´** (0.3-2.3 à¹€à¸¡à¸•à¸£)
- ğŸ“ **~5 à¸‚à¹‰à¸­à¸„à¸§à¸²à¸¡à¸„à¸§à¸²à¸¡à¹€à¸­à¸µà¸¢à¸‡à¸•à¸¶à¸** (0.2-1.7 à¸­à¸‡à¸¨à¸²)

### 4. à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸šà¸œà¸¥à¸¥à¸±à¸à¸˜à¹Œ

**à¸„à¸§à¸£à¹€à¸«à¹‡à¸™à¹ƒà¸™ Tab "MQTT Real-time":**

```
ğŸŒ à¹€à¸‹à¹‡à¸™à¹€à¸‹à¸­à¸£à¹Œà¹à¸œà¹ˆà¸™à¸”à¸´à¸™à¹„à¸«à¸§ [20 à¸£à¸²à¸¢à¸à¸²à¸£] â†’
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸš¨ à¸£à¸¸à¸™à¹à¸£à¸‡à¸¡à¸²à¸ (X)
  [Card: 6.XX Richter]
  ...

âš ï¸ à¸£à¸¸à¸™à¹à¸£à¸‡ (X)
  [Card: 5.XX Richter]
  ...

ğŸŸ¢ à¸›à¸à¸•à¸´ (X)
  [Card: 3.XX Richter]
  ...

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸŒŠ à¹€à¸‹à¹‡à¸™à¹€à¸‹à¸­à¸£à¹Œà¸„à¸¥à¸·à¹ˆà¸™à¸‹à¸¶à¸™à¸²à¸¡à¸´ [~7 à¸£à¸²à¸¢à¸à¸²à¸£] â†’
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
âš ï¸ à¸£à¸¸à¸™à¹à¸£à¸‡ (X)
  [Card: 1.XX à¹€à¸¡à¸•à¸£]
  ...

ğŸŸ¢ à¸›à¸à¸•à¸´ (X)
  [Card: 0.XX à¹€à¸¡à¸•à¸£]
  ...

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ“ à¹€à¸‹à¹‡à¸™à¹€à¸‹à¸­à¸£à¹Œà¸§à¸±à¸”à¸„à¸§à¸²à¸¡à¹€à¸­à¸µà¸¢à¸‡ [~5 à¸£à¸²à¸¢à¸à¸²à¸£] â†’
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
âš ï¸ à¸£à¸¸à¸™à¹à¸£à¸‡ (X)
  [Card: 1.XX à¸­à¸‡à¸¨à¸²]
  ...

ğŸŸ¢ à¸›à¸à¸•à¸´ (X)
  [Card: 0.XX à¸­à¸‡à¸¨à¸²]
  ...
```

---

## âœ… à¸ªà¸´à¹ˆà¸‡à¸—à¸µà¹ˆà¸•à¹‰à¸­à¸‡à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸š

### 1. à¸à¸²à¸£à¹à¸¢à¸à¸à¸¥à¸¸à¹ˆà¸¡à¸•à¸²à¸¡à¸›à¸£à¸°à¹€à¸ à¸— âœ…
- [ ] à¸¡à¸µ 3 à¸à¸¥à¸¸à¹ˆà¸¡à¸«à¸¥à¸±à¸ (Earthquake, Tsunami, Tilt)
- [ ] à¹à¸•à¹ˆà¸¥à¸°à¸à¸¥à¸¸à¹ˆà¸¡à¸¡à¸µà¸ªà¸µà¸•à¹ˆà¸²à¸‡à¸à¸±à¸™ (à¹à¸”à¸‡, à¸™à¹‰à¸³à¹€à¸‡à¸´à¸™, à¸¡à¹ˆà¸§à¸‡)
- [ ] à¹à¸•à¹ˆà¸¥à¸°à¸à¸¥à¸¸à¹ˆà¸¡à¸¡à¸µà¹„à¸­à¸„à¸­à¸™à¸•à¹ˆà¸²à¸‡à¸à¸±à¸™

### 2. à¸à¸²à¸£à¹à¸¢à¸à¸„à¸§à¸²à¸¡à¸£à¸¸à¸™à¹à¸£à¸‡ âœ…
- [ ] à¹à¸•à¹ˆà¸¥à¸°à¸à¸¥à¸¸à¹ˆà¸¡à¹à¸¢à¸à¹€à¸›à¹‡à¸™ Critical, High, Normal
- [ ] à¸¡à¸µ Sub-header à¹à¸ªà¸”à¸‡à¸ˆà¸³à¸™à¸§à¸™à¹à¸•à¹ˆà¸¥à¸°à¸£à¸°à¸”à¸±à¸š

### 3. à¸à¸²à¸£à¹à¸ªà¸”à¸‡à¸«à¸™à¹ˆà¸§à¸¢ âœ…
- [ ] Earthquake: Richter
- [ ] Tsunami: à¹€à¸¡à¸•à¸£
- [ ] Tilt: à¸­à¸‡à¸¨à¸²

### 4. à¸à¸²à¸£à¸„à¸¥à¸´à¸à¸”à¸¹à¸£à¸²à¸¢à¸¥à¸°à¹€à¸­à¸µà¸¢à¸” âœ…
- [ ] à¸„à¸¥à¸´à¸ Header à¹à¸•à¹ˆà¸¥à¸°à¸›à¸£à¸°à¹€à¸ à¸—à¹€à¸à¸·à¹ˆà¸­à¸”à¸¹à¸£à¸²à¸¢à¸¥à¸°à¹€à¸­à¸µà¸¢à¸”
- [ ] à¹€à¸›à¸´à¸”à¸«à¸™à¹‰à¸² SensorDetailScreen

### 5. à¸à¸²à¸£à¹à¸ˆà¹‰à¸‡à¹€à¸•à¸·à¸­à¸™ âœ…
- [ ] à¹à¸ˆà¹‰à¸‡à¹€à¸•à¸·à¸­à¸™à¹€à¸‰à¸à¸²à¸°à¸„à¹ˆà¸²à¸—à¸µà¹ˆà¹€à¸à¸´à¸™ threshold
  - Earthquake: >= 4.0 Richter
  - Tsunami: >= 0.5 à¹€à¸¡à¸•à¸£
  - Tilt: >= 0.5 à¸­à¸‡à¸¨à¸²

---

## ğŸ› à¸–à¹‰à¸²à¹„à¸¡à¹ˆà¹€à¸«à¹‡à¸™à¸à¸²à¸£à¹à¸¢à¸à¸à¸¥à¸¸à¹ˆà¸¡

### à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸š:

1. **MQTT à¹€à¸Šà¸·à¹ˆà¸­à¸¡à¸•à¹ˆà¸­à¸«à¸£à¸·à¸­à¹„à¸¡à¹ˆ?**
   ```
   à¸”à¸¹à¸—à¸µà¹ˆ "MQTT Status: CONNECTED"
   ```

2. **à¸¡à¸µà¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸«à¸£à¸·à¸­à¹„à¸¡à¹ˆ?**
   ```
   à¸”à¸¹à¸—à¸µà¹ˆ "Total messages: X"
   ```

3. **à¸”à¸¹ Debug Logs:**
   ```bash
   # à¹ƒà¸™ Terminal à¸—à¸µà¹ˆà¸£à¸±à¸™ flutter
   # à¸„à¸§à¸£à¹€à¸«à¹‡à¸™:
   I/flutter: MQTT Message received on eqnode.tarita/hub/eqdata/EQC-TEST: {...}
   I/flutter: MQTT Data: earthquake - ID: EQC-TEST-001 - Mag: 4.50
   ```

4. **Hot Reload:**
   ```
   à¸à¸” 'r' à¹ƒà¸™ Terminal à¸—à¸µà¹ˆà¸£à¸±à¸™ flutter
   ```

---

## ğŸ”§ à¸–à¹‰à¸²à¸¢à¸±à¸‡à¹„à¸¡à¹ˆà¸—à¸³à¸‡à¸²à¸™

### à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸šà¹‚à¸„à¹‰à¸”:

1. **`lib/services/mqtt_manager.dart`**
   - à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸šà¸§à¹ˆà¸² `sensorType` à¸–à¸¹à¸à¸à¸³à¸«à¸™à¸”à¸–à¸¹à¸à¸•à¹‰à¸­à¸‡
   - à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸šà¸§à¹ˆà¸² `_processEarthquakeData()` à¸—à¸³à¸‡à¸²à¸™

2. **`lib/screens/home_screen.dart`**
   - à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸šà¸§à¹ˆà¸² `_buildMqttDevicesList()` à¹à¸¢à¸à¸à¸¥à¸¸à¹ˆà¸¡à¸–à¸¹à¸à¸•à¹‰à¸­à¸‡
   - à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸šà¸§à¹ˆà¸² `_buildSensorTypeHeader()` à¹à¸ªà¸”à¸‡à¸œà¸¥

### Debug:

```dart
// à¹€à¸à¸´à¹ˆà¸¡à¹ƒà¸™ _buildMqttDevicesList()
print('Earthquake logs: ${earthquakeLogs.length}');
print('Tsunami logs: ${tsunamiLogs.length}');
print('Tilt logs: ${tiltLogs.length}');
```

---

## ğŸ“Š à¸œà¸¥à¸¥à¸±à¸à¸˜à¹Œà¸—à¸µà¹ˆà¸„à¸²à¸”à¸«à¸§à¸±à¸‡

### Terminal (Backend):
```
âœ… Connected to MQTT Broker
ğŸ“¤ Sending test data for different sensor types...

ğŸŒ Earthquake: 4.23 Richter - EQC-TEST-001
---
ğŸŒ Earthquake: 3.87 Richter - EQC-TEST-002
---
ğŸŒ Earthquake: 5.12 Richter - EQC-TEST-003
ğŸŒŠ Tsunami: 1.45 meters - TSU-TEST-003
---
ğŸŒ Earthquake: 2.98 Richter - EQC-TEST-004
ğŸ“ Tilt: 0.87 degrees - TILT-TEST-004
---
...
```

### Flutter Logs:
```
I/flutter: MQTT Message received on eqnode.tarita/hub/eqdata/EQC-TEST: {...}
I/flutter: MQTT Data: earthquake - ID: EQC-TEST-001 - Mag: 4.23
I/flutter: ğŸ”” Sending notification: ğŸ”” Earthquake Detected
I/flutter: âœ… ALERT SENT: ğŸ”” Earthquake Detected
```

### à¹à¸­à¸:
- à¹à¸ªà¸”à¸‡ 3 à¸à¸¥à¸¸à¹ˆà¸¡à¹€à¸‹à¹‡à¸™à¹€à¸‹à¸­à¸£à¹Œ
- à¹à¸•à¹ˆà¸¥à¸°à¸à¸¥à¸¸à¹ˆà¸¡à¸¡à¸µà¸ªà¸µà¹à¸¥à¸°à¹„à¸­à¸„à¸­à¸™à¸•à¹ˆà¸²à¸‡à¸à¸±à¸™
- à¹à¸¢à¸à¸„à¸§à¸²à¸¡à¸£à¸¸à¸™à¹à¸£à¸‡à¸ à¸²à¸¢à¹ƒà¸™à¹à¸•à¹ˆà¸¥à¸°à¸à¸¥à¸¸à¹ˆà¸¡
- à¹à¸ªà¸”à¸‡à¸«à¸™à¹ˆà¸§à¸¢à¸—à¸µà¹ˆà¹€à¸«à¸¡à¸²à¸°à¸ªà¸¡

---

## ğŸ¯ à¸ªà¸£à¸¸à¸›

à¸«à¸¥à¸±à¸‡à¸ˆà¸²à¸à¸£à¸±à¸™à¸ªà¸„à¸£à¸´à¸›à¸•à¹Œà¸—à¸”à¸ªà¸­à¸š à¸„à¸¸à¸“à¸„à¸§à¸£à¹€à¸«à¹‡à¸™:

1. âœ… **3 à¸à¸¥à¸¸à¹ˆà¸¡à¹€à¸‹à¹‡à¸™à¹€à¸‹à¸­à¸£à¹Œ** à¹à¸¢à¸à¸Šà¸±à¸”à¹€à¸ˆà¸™
2. âœ… **à¸ªà¸µà¹à¸¥à¸°à¹„à¸­à¸„à¸­à¸™à¸•à¹ˆà¸²à¸‡à¸à¸±à¸™** à¹à¸•à¹ˆà¸¥à¸°à¸›à¸£à¸°à¹€à¸ à¸—
3. âœ… **à¸«à¸™à¹ˆà¸§à¸¢à¸—à¸µà¹ˆà¹€à¸«à¸¡à¸²à¸°à¸ªà¸¡** (Richter/à¹€à¸¡à¸•à¸£/à¸­à¸‡à¸¨à¸²)
4. âœ… **à¸à¸²à¸£à¹à¸ˆà¹‰à¸‡à¹€à¸•à¸·à¸­à¸™à¸•à¸²à¸¡ threshold** à¸—à¸µà¹ˆà¸à¸³à¸«à¸™à¸”

à¸–à¹‰à¸²à¸¢à¸±à¸‡à¹„à¸¡à¹ˆà¹€à¸«à¹‡à¸™ à¹ƒà¸«à¹‰à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸š Debug Logs à¹à¸¥à¸°à¸—à¸³ Hot Reload (à¸à¸” 'r')

---

**Last Updated**: November 21, 2025
